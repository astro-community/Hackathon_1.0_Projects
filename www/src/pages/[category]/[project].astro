---
import NotionData from '../../data/notion.json'   
import { Markdown } from 'astro/components';
import formatCategoryString from '../../scripts/formatCategoryString';
import getGitUserName from '../../scripts/getGitUserName';
import fetchREADMEfromGithub from '../../scripts/fetchREADMEfromGithub';

export async function getStaticPaths() {
     return NotionData.map(record=>{
         const category = formatCategoryString(record.Category) 
         return {
             params:{
                 category:category,
                 project:record.Name.toLowerCase()
             },
             props:{
                 record
             }
         }
     })
 }
const {category,project}=Astro.params
const {record}=Astro.props
const gitUser = getGitUserName(record.GitHub)
const readme = await fetchREADMEfromGithub(gitUser,record.Name.toLowerCase())

---
    <Markdown content={readme}/>